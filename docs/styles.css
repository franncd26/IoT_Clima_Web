/* ===== Tema base (oscuro) ===== */
:root {
  --bg:#0b1220;
  --card:#111a2b;
  --text:#e6eefc;
  --muted:#97a6c6;
  --border:#26324c;
  --grid:#2a3b5e88;
  --accent:#5da2ff;
}

/* ===== Tema claro ===== */
:root[data-theme="light"]{
  --bg:#f7f9fd;
  --card:#ffffff;
  --text:#0b1220;
  --muted:#4a5a7a;
  --border:#d9e2f2;
  --grid:#c8d3ea88;
  --accent:#0067ff;
}

/* ===== Estructura base ===== */
*{ box-sizing:border-box; }
body{ margin:0; font-family:system-ui,Segoe UI,Roboto,Arial,sans-serif; background:var(--bg); color:var(--text); }

header, footer{ background:var(--card); border-bottom:1px solid var(--border); }
header .wrap{
  max-width:720px;            /* más angosto */
  margin:0 auto; padding:12px 20px;
  display:flex; align-items:center; justify-content:space-between; gap:12px;
}
footer{
  padding:16px 20px; border-top:1px solid var(--border);
  text-align:center; color:var(--muted);
}

.theme-wrap{ margin-right:8px; } /* mueve un poco el botón de tema a la izquierda */

h1{ margin:0 0 4px 0; }
h2{ margin:16px 0 8px; }
p{ color:var(--muted); margin:0; }

/* ===== Main layout ===== */
main{ max-width:720px; margin:0 auto; padding:20px; display:grid; gap:24px; }
section{
  background:var(--card); padding:16px; border-radius:14px;
  box-shadow:0 8px 24px rgba(0,0,0,.18); border:1px solid var(--border);
}
canvas{ width:100%; height:360px; border-radius:10px; }

/* ===== Botones / Inputs ===== */
input, button{
  padding:8px 10px; border-radius:8px; border:1px solid var(--border);
  background:transparent; color:var(--text);
}
button{ cursor:pointer; }
button:hover{ opacity:.9; }

/* ===== Botón de tema ===== */
.theme-btn{
  border:1px solid var(--border);
  background:transparent; color:var(--text);
  border-radius:10px; padding:8px 12px; font-size:16px;
  cursor:pointer;
}
.theme-btn:hover{ background:rgba(0,0,0,.06); }
:root[data-theme="light"] .theme-btn:hover{ background:#f0f4ff; }

/* ===== Barra de filtros (rango de fechas) reorganizada ===== */
.controls{ max-width:720px; margin:16px auto 0; padding:0 20px; }
.controls .row{
  background:var(--card); border:1px solid var(--border); border-radius:14px;
  padding:12px; display:flex; flex-wrap:wrap; gap:12px;
  box-shadow:0 8px 24px rgba(0,0,0,.12);
}

/* Fechas (arriba, a la izquierda) */
.controls .dates{
  display:flex; align-items:center; gap:10px;
}
.controls label{ display:flex; align-items:center; gap:6px; color:var(--muted); }

/* Descarga: ya no usa margin-left:auto para no irse al borde derecho */
.controls .downloads{
  display:flex; align-items:center; gap:8px;
}

/* Acciones: ocupan toda la fila de abajo */
.controls .actions{
  flex-basis:100%;
  display:flex; gap:8px; justify-content:flex-start;
}
.controls .actions button{ min-width:110px; }

/* Botón “ghost” */
.controls .ghost{ background:transparent; opacity:.85; }

/* ===== Tarjetas de estadísticas ===== */
.stats{
  max-width:720px; margin:12px auto 0; padding:0 20px;
  display:grid; grid-template-columns: repeat(3, 1fr); gap:12px;
}
.stat{
  background:var(--card); border:1px solid var(--border); border-radius:12px;
  padding:12px; box-shadow:0 6px 18px rgba(0,0,0,.12);
  display:flex; flex-direction:column; gap:8px;
}
.stat strong{ color:var(--muted); letter-spacing:.2px; }
.stat .row{ display:flex; justify-content:space-between; gap:10px; flex-wrap:wrap; }
.stat em{ font-style:normal; color:var(--muted); margin-right:4px; }
.stat b{ font-weight:700; }
.stat small{ color:var(--muted); margin-left:6px; }

/* ===== Responsivo ===== */
@media (max-width:720px){
  .controls .dates{
    width:100%; flex-direction:column; align-items:flex-start; gap:8px;
  }
  .controls .downloads{
    order:2; /* si no cabe, queda debajo de fechas */
  }
  .controls .actions{
    order:3; /* acciones siempre en la fila de abajo */
  }
  canvas{ height:300px; }
  .stats{ grid-template-columns:1fr; }
}
